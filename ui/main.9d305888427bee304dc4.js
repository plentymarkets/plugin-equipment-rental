(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+S+1":function(t,e){t.exports='<terra-alert-panel></terra-alert-panel>\n<terra-base-toolbar>\n    <div class="btn-group" role="group">\n        <terra-button [inputIcon]="\'icon-save\'"\n                      [inputTooltipText]="\'Save\'"\n                      (outputClicked)="saveSettings()">\n        </terra-button>\n    </div>\n</terra-base-toolbar>\n\n<div *ngIf="isLoading; then loadingBlock else contentBlock"></div>\n<ng-template #loadingBlock>\n    <terra-portlet>\n        <div class="loadingComponent">\n            <terra-loading-spinner></terra-loading-spinner>\n            Loading...\n        </div>\n    </terra-portlet>\n</ng-template>\n\n<ng-template #contentBlock>\n    <terra-portlet\n            inputPortletHeader="Ger\xe4tekategorien">\n        <div class="row">\n            <div class="col-lg-8">\n                <terra-multi-check-box [(ngModel)]="categoryValues"\n                                       [inputIsDisabled]="false">\n                </terra-multi-check-box>\n            </div>\n            <div class="col-lg-4">\n                <h4>Aktive Kategorien</h4>\n                <terra-taglist [inputTagList]="activeCategorys"></terra-taglist>\n            </div>\n        </div>\n    </terra-portlet>\n    <terra-portlet inputPortletHeader="Autofill Option">\n        <terra-checkbox inputCaption="E-Mail automatisch bef\xfcllen"\n                        [(ngModel)]="emailAutofill">\n        </terra-checkbox>\n    </terra-portlet>\n    <terra-portlet\n            inputPortletHeader="E-Mail Template">\n        <div class="row">\n            <div class="col-lg-8">\n                <terra-portlet>\n                    <terra-text-input\n                            inputName="E-Mail Betreff"\n                            [(ngModel)]="emailTemplateTopic">\n                    </terra-text-input>\n                    <terra-note-editor [inputPlaceholder]="\'E-Mail Template zur Erinnerung\'"\n                                       [(ngModel)]="emailTemplate">\n                    </terra-note-editor>\n                </terra-portlet>\n            </div>\n            <div class="col-lg-4">\n                <terra-portlet inputPortletHeader="Platzhalter">\n                    <table class="table table-striped">\n                        <tr>\n                            <td>$deviceOwnerFullName</td>\n                            <td>Name der Person, welche das Ger\xe4t aktuell ausgeliehen hat</td>\n                        </tr>\n                        <tr>\n                            <td>$deviceOwnerFirstName</td>\n                            <td>Vorname der Person, welche das Ger\xe4t aktuell ausgeliehen hat</td>\n                        </tr>\n                        <tr>\n                            <td>$deviceOwnerLastName</td>\n                            <td>Nachname der Person, welche das Ger\xe4t aktuell ausgeliehen hat</td>\n                        </tr>\n                        <tr>\n                            <td>$deviceName</td>\n                            <td>Name des Ger\xe4tes</td>\n                        </tr>\n                        <tr>\n                            <td>$deviceRentedAt</td>\n                            <td>Zeitpunkt des Verleihs</td>\n                        </tr>\n                    </table>\n                </terra-portlet>\n            </div>\n        </div>\n    </terra-portlet>\n</ng-template>\n\n'},0:function(t,e,a){t.exports=a("zUnb")},JObr:function(t,e){t.exports="terra-breadcrumbs + .outlet-container {\n  height: calc(100% - var(--breadcrumbs-height));\n  overflow: auto; }\n"},Mz4V:function(t,e){t.exports='<div class="container-fluid">\n  <div class="row">\n    <div class="overflow-auto col-12 col-md-2">\n      <terra-filter (outputOnSearchBtnClicked)="onSearchBtnClicked()"\n                    (outputOnResetBtnClicked)="onResetBtnClicked()"\n                    (outputOnEnterSubmit)="onSearchBtnClicked()">\n        <mat-form-field class="w-100">\n          <input type="number" matInput placeholder="Variante" [(ngModel)]="filterDevice" (change)="onDeviceFilterChange()">\n        </mat-form-field>\n        <mat-form-field class="w-100">\n          <input type="number" matInput placeholder="Benutzer-ID" [(ngModel)]="filterUser" (change)="onUserFilterChange()">\n        </mat-form-field>\n      </terra-filter>\n    </div>\n    <div class="overflow-auto col-12 col-md-10">\n      <ng-template #noSelectedRows>\n        Es wurden keine Eintr\xe4ge ausgew\xe4hlt\n      </ng-template>\n      <terra-portlet>\n        <terra-data-table\n                [inputService]="logService"\n                [inputHasCheckboxes]="false"\n                [inputHeaderList]="headerList"\n                [useContentBody]="true"\n                #logTable\n        >\n          <tbody>\n          <tr [tcTableRow]="row" hasContextMenu [rowData]="row.data" *ngFor="let row of logService.rowList; let index = index">\n            <td>{{ row.data.userName }} ({{ row.data.userId }})</td>\n            <td>{{ row.data.rentalItemName }} (<a [routerLink]="" (click)="showVariation(row.data.itemId,row.data.rentalItem)">{{ row.data.rentalItem }}</a>)</td>\n            <td>{{ row.data.message }}</td>\n            <td>{{ row.data.created_at }}</td>\n\n          </tr>\n          </tbody>\n\n        </terra-data-table>\n      </terra-portlet>\n    </div>\n  </div>\n</div>\n'},RnhZ:function(t,e,a){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function n(t){var e=i(t);return a(e)}function i(t){var e=r[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(r)},n.resolve=i,t.exports=n,n.id="RnhZ"},T8DE:function(t,e){t.exports='<terra-alert-panel></terra-alert-panel>\n<terra-3-col [leftColumnWidth]="leftColumnWidth" [centerColumnWidth]="centerColumnWidth" [rightColumnWidth]="rightColumnWidth">\n    <div class="leftColumn" left>\n        <terra-filter (outputOnSearchBtnClicked)="onSearchBtnClicked()"\n            (outputOnResetBtnClicked)="onResetBtnClicked()"\n            (outputOnEnterSubmit)="onSubmit()">\n            <mat-form-field class="w-100">\n                <input matInput placeholder="Name" [(ngModel)]="_name">\n            </mat-form-field>\n            <mat-form-field class="w-100">\n                <mat-label>Verf\xfcgbarkeit</mat-label>\n                <mat-select [(ngModel)]="availableFilter" [disabled]="isLoading">\n                    <mat-option *ngFor="let available of _selectAvailable" [value]="available.value">\n                        {{available.caption}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field class="w-100">\n                <mat-label>Kategorie</mat-label>\n                <mat-select [(ngModel)]="categoryFilter" [disabled]="isLoading">\n                    <mat-option *ngFor="let category of _statsDataService._selectCategory" [value]="category.value">\n                        {{category.caption}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field class="w-100">\n                <mat-label>Benutzer</mat-label>\n                <mat-select [(ngModel)]="userFilter" [disabled]="isLoading">\n                    <mat-option *ngFor="let user of _statsDataService._selectUser" [value]="user.value">\n                        {{user.caption}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field class="w-100">\n                <mat-label>Status</mat-label>\n                <mat-select [(ngModel)]="statusFilter" [disabled]="isLoading">\n                    <mat-option *ngFor="let status of _selectStatusFilter" [value]="status.value">\n                        {{status.caption}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </terra-filter>\n    </div>\n\n    <div center>\n        <terra-base-toolbar >\n            <div class="btn-group" role="group">\n                <terra-button inputIcon=\'icon-export\'\n                              [inputTooltipText]="\'CSV Exportieren\'"\n                              [inputIsDisabled]="isLoading || !_statsDataService.articles || _statsDataService.articles.length === 0"\n                              (click)="exportCSV()"\n                >\n                </terra-button><br/>\n            </div>\n        </terra-base-toolbar>\n        <terra-portlet>\n            <div *ngIf="isLoading" class="loadingComponent">\n                <terra-loading-spinner></terra-loading-spinner>\n                Loading...\n            </div>\n            <terra-card *ngIf="!isLoading && this._statsDataService.settings && this._statsDataService.settings.size > 0" tcTooltip="Neuen Artikel anlegen" style="float:left;" inputPlaceholderIcon="icon-add" (click)="loadCreateItem()">\n                <div terra-card-header>\n                    <p>Neuen Artikel anlegen</p>\n                </div>\n                <div terra-card-footer>\n                </div>\n            </terra-card>\n            <div *ngIf="_statsDataService.articles && _statsDataService.articles.length === 0" style="clear:both"></div>\n            <div *ngIf="!isLoading">\n                <terra-card *ngFor="let article of _statsDataService.articles" inputImagePath="{{ article.image }}" (click)="onClickTerraCard(article.id)"  [tcTooltip]="getCardTooltip(article)"  [className]="getCardClasses(article)">\n                    <div terra-card-header>\n                        <p>{{ article.name }}</p>\n                    </div>\n                    <div terra-card-footer>\n                        <p>&nbsp;<ng-template [ngIf]="article.status > 0">{{ this._selectStatus[article.status].caption }}</ng-template> </p>\n                    </div>\n                </terra-card>\n            </div>\n        </terra-portlet>\n    </div>\n    <div class="rightColumn" right>\n        <div class="container-fluid">\n            <div class="row">\n                <div class="col-lg-12">\n                    <terra-base-toolbar>\n                        <div class="btn-group" role="group">\n                            <terra-button *ngIf="!_statsDataService._actualArticleIsRent && !isLoading" inputIcon=\'icon-save\'\n                                [inputTooltipText]="\'Verleihen\'"\n                                (click)="rentItem(_statsDataService._actualArticleKey)"\n                            >\n                            </terra-button>\n                            <terra-button *ngIf="_statsDataService._actualArticleIsRent && !isLoading" inputIcon=\'icon-save\'\n                                          [inputTooltipText]="\'Zur\xfcckgeben\'"\n                                          (click)="giveBack(_statsDataService._actualArticleId)"\n                            >\n                            </terra-button>\n                            <terra-button\n                                    *ngIf="_statsDataService.articlesResult && _statsDataService.articlesResult[_statsDataService._actualArticleKey] && !isLoading"\n                                    [inputTooltipText]="\'Variante Bearbeiten\'"\n                                    inputIcon=\'icon-edit\'\n                                    (click)="showVariation(_statsDataService.articlesResult[_statsDataService._actualArticleKey].itemId,_statsDataService.articlesResult[_statsDataService._actualArticleKey].id)"></terra-button>\n                </div>\n                </terra-base-toolbar>\n            </div>\n            <div class="col-lg-9">\n                <terra-portlet *ngIf="isLoading" class="loadingComponent">\n                    <terra-loading-spinner></terra-loading-spinner>\n                    Loading...\n                </terra-portlet>\n                    <ng-container *ngIf="!_statsDataService._actualArticleIsRent && !isLoading">\n                        <terra-portlet>\n                            <h1>Artikel verleihen</h1>\n                            <mat-form-field class="w-100">\n                                <input matInput placeholder="Benutzer suchen" [(ngModel)]="searchName" (ngModelChange)="autofill($event)">\n                            </mat-form-field>\n                            <ng-template [ngIf]="autofillLoading">\n                                Loading...\n                            </ng-template>\n                            <ng-template [ngIf]="findUserResult && findUserResult.length > 0">\n                                <div class="popupWrapper">\n                                    <table class="table popupTable">\n                                        <thead>\n                                            <tr>\n                                                <th>Vorname</th>\n                                                <th>Nachname</th>\n                                                <th>E-Mail</th>\n                                                <th>Typ</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr *ngFor="let user of findUserResult; let index = index" (click)="fillForms(user)">\n                                                <td>{{ user.firstname }}</td>\n                                                <td>{{ user.lastname }}</td>\n                                                <td>{{ user.email }}</td>\n                                                <td>Benutzer</td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </ng-template>\n                            <br>\n\n                            <mat-form-field class="w-100">\n                                <input matInput placeholder="Vorname" [(ngModel)]="firstName" (ngModelChange)="emailAutocomplete($event)">\n                            </mat-form-field>\n                            <mat-form-field class="w-100">\n                                <input matInput placeholder="Nachname" [(ngModel)]="lastName" (ngModelChange)="emailAutocomplete($event)">\n                            </mat-form-field>\n                            <mat-form-field class="w-100">\n                                <input matInput placeholder="E-Mail*" [(ngModel)]="email">\n                            </mat-form-field>\n                            <terra-date-picker\n                                    inputName="R\xfcckgabedatum"\n                                    [(ngModel)]="date">\n                            </terra-date-picker>\n                            <mat-form-field class="w-100">\n                                <input matInput placeholder="Bemerkung" [(ngModel)]="comment">\n                            </mat-form-field>\n                        </terra-portlet>\n                    </ng-container>\n                    <ng-container *ngIf="_statsDataService._actualArticleIsRent && !isLoading">\n                        <terra-portlet>\n                            <h2>Artikel zur\xfcckgeben</h2>\n                            <mat-form-field class="w-100">\n                                <input matInput placeholder="Bemerkung" [(ngModel)]="giveBackComment">\n                            </mat-form-field>\n                            <mat-form-field class="w-100">\n                                <mat-label>Status</mat-label>\n                                <mat-select [(ngModel)]="statusOption">\n                                    <mat-option *ngFor="let status of _selectStatus" [value]="status.value">\n                                        {{status.caption}}\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                        </terra-portlet>\n                        <terra-portlet>\n                            <div *ngIf="_statsDataService._actualArticleData.user">\n                                <h2>Der Artikel ist bereits verliehen</h2>\n                                <table class="table table-striped">\n                                    <tbody>\n                                        <tr>\n                                            <td>Verliehen an:</td>\n                                            <td>{{ _statsDataService._actualArticleData.user.firstname| titlecase }} {{ _statsDataService._actualArticleData.user.lastname| titlecase }}</td>\n                                        </tr>\n                                        <tr>\n                                            <td>Verliehen am:</td>\n                                            <td>{{ _statsDataService._actualArticleData.created_at*1000| date:\'dd.MM.yyyy\' }}</td>\n                                        </tr>\n                                        <tr *ngIf="_statsDataService._actualArticleData.rent_until > 0">\n                                            <td>Artikel verliehen bis:</td>\n                                            <td>{{ _statsDataService._actualArticleData.rent_until*1000| date:\'dd.MM.yyyy\' }}</td>\n                                        </tr>\n                                        <tr *ngIf="_actualArticleTimeDif > 0">\n                                            <td>Tage verbleibend:</td>\n                                            <td>{{ _actualArticleTimeDif }}</td>\n                                        </tr>\n                                        <tr *ngIf="_actualArticleTimeDif < 0">\n                                            <td>Tage \xfcberschritten:</td>\n                                            <td>{{ _actualArticleTimeDif*-1}}</td>\n                                        </tr>\n                                        <tr *ngIf="_statsDataService._actualArticleData.comment.length > 0">\n                                            <td>Vermerkung:</td>\n                                            <td>{{ _statsDataService._actualArticleData.comment }}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n\n                            </div>\n                        </terra-portlet>\n                    </ng-container>\n                    <terra-portlet *ngIf="!isLoading && _statsDataService._actualArticleKey > 0 && _statsDataService.history.length > 0 && _statsDataService.history[_statsDataService._actualArticleId] && _historyService.rowList.length > 0">\n                        <h2>Verleih Historie</h2>\n                        <terra-data-table\n                                [inputService]="_historyService"\n                                [inputHasCheckboxes]="false"\n                                [inputHeaderList]="headerList"\n                                [inputContextMenu]="contextMenu"\n                                [useContentBody]="true"\n                                #table\n                        >\n                            <tbody>\n                            <tr [tcTableRow]="row" hasContextMenu [rowData]="row.data" *ngFor="let row of _historyService.rowList; let index = index">\n                                <td>{{ row.data.user }}</td>\n                                <td>{{ row.data.comment }}</td>\n                                <td>{{ row.data.getBackComment }}</td>\n                                <td>{{ row.data.created_at }}</td>\n                                <td>{{ row.data.rent_until }}</td>\n                                <td>{{ row.data.getBackDate }}</td>\n                                <td>{{ row.data.status }}</td>\n                            </tr>\n                            </tbody>\n\n                        </terra-data-table>\n                    </terra-portlet>\n                </div>\n                <div class="col-lg-3">\n                    <terra-portlet>\n                        <div>\n                        <div *ngIf="_statsDataService.articlesResult && _statsDataService.articlesResult[_statsDataService._actualArticleKey]">\n                            <h1>{{ _statsDataService.articlesResult[_statsDataService._actualArticleKey].name }}</h1>\n                            <div class="text-center">\n                                <img src="{{ _statsDataService.articlesResult[_statsDataService._actualArticleKey].image }}" class="img" alt="{{ _statsDataService.articlesResult[_statsDataService._actualArticleKey].name }}">\n                            </div>\n                            <p innerHTML="{{ _statsDataService.articlesResult[_statsDataService._actualArticleKey].longDescription }}"></p>\n                            <table class="table table-striped" *ngIf="_statsDataService.articlesResult[_statsDataService._actualArticleKey]">\n                                <tbody>\n                                    <tr *ngFor="let attributeResult of _statsDataService.articlesResult[_statsDataService._actualArticleKey].attributes">\n                                        <td>{{ attributeResult.attribute.backendName }}</td>\n                                        <td>{{ attributeResult.attributeValue.backendName }}</td>\n                                    </tr>\n                                    <ng-template [ngIf]="_statsDataService.articlesResult[_statsDataService._actualArticleKey].properties.length > 0">\n                                        <tr *ngFor="let property of _statsDataService.articlesResult[_statsDataService._actualArticleKey].properties; index as i">\n                                            <ng-template [ngIf]="_statsDataService.propertyNames[property.propertyRelation.position]">\n                                                <td>{{ _statsDataService.propertyNames[property.propertyRelation.position] }}</td>\n                                                <td>{{ property.relationValues[0].value }}</td>\n                                            </ng-template>\n                                        </tr>\n                                    </ng-template>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    </terra-portlet>\n                </div>\n            </div>\n        </div>\n    </div>\n</terra-3-col>\n'},VhEL:function(t,e){t.exports='<terra-alert-panel></terra-alert-panel>\n<terra-overlay #manageOverlay\n               inputOverlayTitle="Gruppenfunktion"\n               [inputIsSmall]="true">\n    <ng-template [ngIf]="manageTable.selectedRowList.length > 0" [ngIfElse]="noSelectedRows">\n        <terra-portlet>\n            <terra-button inputCaption="Ausf\xfchren"\n                          inputIcon="icon-execute"\n                          (outputClicked)="executePopupFunction(manageTable.selectedRowList)">\n            </terra-button>\n        </terra-portlet>\n        <terra-portlet>\n            <table class="table table-striped table-group-option">\n                <tr>\n                    <td><terra-checkbox [(ngModel)]="sendMailOption"></terra-checkbox></td>\n                    <td>E-Mail senden</td>\n                </tr>\n                <tr>\n                    <td><terra-checkbox [(ngModel)]="giveBackOption"></terra-checkbox></td>\n                    <td>R\xfcckgabe buchen</td>\n                </tr>\n            </table>\n        </terra-portlet>\n    </ng-template>\n</terra-overlay>\n<div class="container-fluid">\n    <div class="row">\n        <div class="overflow-auto col-12 col-md-2">\n            <terra-filter (outputOnSearchBtnClicked)="onSearchBtnClicked()"\n                          (outputOnResetBtnClicked)="onResetBtnClicked()"\n                          (outputOnEnterSubmit)="onSearchBtnClicked()">\n                <mat-form-field class="w-100">\n                    <input matInput placeholder="Name" [(ngModel)]="filterName">\n                </mat-form-field>\n                <mat-form-field class="w-100">\n                    <input matInput placeholder="E-Mail" [(ngModel)]="filterEmail">\n                </mat-form-field>\n            </terra-filter>\n        </div>\n        <div class="overflow-auto col-12 col-md-10">\n            <ng-template #noSelectedRows>\n                Es wurden keine Eintr\xe4ge ausgew\xe4hlt\n            </ng-template>\n            <terra-portlet>\n                <terra-data-table\n                        [inputService]="_manageService"\n                        [inputHasCheckboxes]="true"\n                        [inputHeaderList]="headerList"\n                        [inputContextMenu]="contextMenu"\n                        [useContentBody]="true"\n                        #manageTable\n                >\n                    <terra-group-function [show]="true"\n                                          [disableExecution]="false"\n                                          (executeGroupFunction)="executeGroupFunction(manageTable.selectedRowList)">\n                    </terra-group-function>\n                    <tbody>\n                    <tr [tcTableRow]="row" hasContextMenu [rowData]="row.data" *ngFor="let row of _manageService.rowList; let index = index">\n                        <td>{{ row.data.name }}</td>\n                        <td>\n                            {{ capitalize(row.data.user.firstname) }} {{ capitalize(row.data.user.lastname) }}\n                        </td>\n                        <td>\n                            {{ row.data.user.email }}\n                        </td>\n                        <td>{{ row.data.comment }}</td>\n                        <td>{{ row.data.created_at }}</td>\n                        <td [ngClass]="expiredDateClass(row.data.rent_until)">\n                            <ng-template [ngIf]="isNumber(row.data.rent_until)" [ngIfElse]="rentUntilString">\n                                <ng-template [ngIf]="row.data.rent_until <= 0" [ngIfElse]="rentUntilTimeLeft">\n                                    <ng-template [ngIf]="row.data.rent_until == 0">\n                                        Abgabe ist heute\n                                    </ng-template>\n                                    <ng-template [ngIf]="row.data.rent_until < 0">\n                                        {{ row.data.rent_until*-1 }} {{ formatSingularPlural(row.data.rent_until,"Tag","Tage") }} \xfcber dem Datum\n                                    </ng-template>\n                                </ng-template>\n                                <ng-template #rentUntilTimeLeft>\n                                    {{ row.data.rent_until }} {{ formatSingularPlural(row.data.rent_until,"Tag","Tage") }}\n                                </ng-template>\n                            </ng-template>\n                            <ng-template #rentUntilString>\n                                {{ row.data.rent_until }}\n                            </ng-template>\n                        </td>\n                    </tr>\n                    </tbody>\n\n                </terra-data-table>\n            </terra-portlet>\n        </div>\n    </div>\n</div>\n'},ZnS7:function(t,e){t.exports=""},aIeQ:function(t,e){t.exports=""},crnd:function(t,e){function a(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="crnd"},e5xU:function(t,e){t.exports=".text-center {\n  text-align: center; }\n  .text-center .img {\n    max-width: 100% !important;\n    max-height: 400px !important; }\n  .icon-table_sort {\n  display: none; }\n"},jx0p:function(t,e){t.exports='<div *ngIf="isLoading; then loadingBlock else contentBlock"></div>\n<ng-template #loadingBlock>\n  <terra-portlet>\n    <div *ngIf="isLoading" class="loadingComponent">\n      <terra-loading-spinner></terra-loading-spinner>\n      Loading...\n    </div>\n  </terra-portlet>\n</ng-template>\n<ng-template #contentBlock>\n  <terra-base-toolbar>\n    <div class="btn-group" role="group">\n      <terra-button [inputIcon]="\'icon-save\'"\n                    [inputTooltipText]="\'Save\'"\n                    (click)="createItem()">\n      </terra-button>\n    </div>\n  </terra-base-toolbar>\n  <div class="col-xl-6">\n    <terra-portlet inputPortletHeader="Artikel anlegen">\n      <form action="">\n        <mat-form-field class="w-100" [formGroup]="createItemForm">\n          <input matInput placeholder="Artikelname" name="name" formControlName="name" required>\n          <mat-error>Der Artikelname muss gesetzt werden</mat-error>\n        </mat-form-field>\n        <terra-file-input\n                inputName="Bild"\n                [(ngModel)]="image"\n                name="image">\n        </terra-file-input>\n\n        <mat-form-field class="w-100" [formGroup]="createItemForm">\n          <mat-label>Kategorie</mat-label>\n          <mat-select name="category" formControlName="category" required>\n            <mat-option *ngFor="let category of _selectCategory" [value]="category.value">\n              {{category.caption}}\n            </mat-option>\n          </mat-select>\n          <mat-error>Eine Kategorie muss gesetzt werden</mat-error>\n        </mat-form-field>\n\n        <div class="col-12" style="padding-top:10px;padding-bottom:10px;">\n          <terra-toggle [(ngModel)]="propertyToggle" name="propertyToggle"></terra-toggle>\n          Eigenschaften setzen\n        </div>\n\n        <table class="table table-striped" *ngIf="propertyToggle">\n          <thead>\n          <tr>\n            <th>Eigenschaft</th>\n            <th>Inhalt</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr *ngFor="let property of this._statsDataService.propertyNames; let i = index">\n            <ng-container *ngIf="property != null">\n              <td>{{ property }}</td>\n              <td>\n                <mat-form-field class="w-100">\n                  <input matInput #propertyInput name="{{ property }}" placeholder="{{ property }}" NgModel>\n                </mat-form-field>\n              </td>\n            </ng-container>\n          </tr>\n          </tbody>\n        </table>\n      </form>\n    </terra-portlet>\n  </div>\n</ng-template>\n'},xBDF:function(t,e){t.exports="<router-outlet></router-outlet>\n"},xlcr:function(t,e){t.exports='<terra-breadcrumbs></terra-breadcrumbs>\n<div class="outlet-container">\n    <router-outlet></router-outlet>\n</div>\n'},zUnb:function(t,e,a){"use strict";a.r(e);var r=a("CcnG"),n=a("ToYH"),i={production:!0},s=a("mrSG"),o=a("ZYjt"),l=a("up6G"),c=a("gIcY"),u=function(){var t=localStorage.getItem("plentymarkets_lang_"),e=null;null!==t?e=t:("de"!==(e=navigator.language.slice(0,2).toLocaleLowerCase())&&"en"!==e&&(e="en"),localStorage.setItem("plentymarkets_lang_",e));return{locale:{languages:[{code:"en",dir:"ltr"},{code:"de",dir:"ltr"}],language:e,storage:l.StorageStrategy.Cookie},translation:{providers:[{type:l.ProviderType.Static,prefix:"assets/lang/locale-"},{type:l.ProviderType.Static,prefix:"assets/lang/terra-components/locale-"}],caching:!0,composedKeySeparator:".",i18nPlural:!1}}}();var d,p=a("t/Na"),g=a("ZYCi"),m=a("MnON"),h=function(){function t(){}return Object.defineProperty(t.prototype,"breadcrumbsService",{get:function(){return this.breadcrumbs.breadcrumbsService},enumerable:!0,configurable:!0}),s.c([Object(r.ViewChild)(m.TerraBreadcrumbsComponent),s.f("design:type",m.TerraBreadcrumbsComponent)],t.prototype,"breadcrumbs",void 0),t=s.c([Object(r.Component)({selector:"router-view",template:a("xlcr"),styles:[a("JObr")]})],t)}(),v=a("F/XL");function f(t){return null==t}!function(t){t.descending="desc",t.ascending="asc"}(d||(d={}));var y,b=function(t){function e(){var e=t.call(this)||this;return e.data=[],e.defaultPagingSize=5,e.pagingSizes=[{value:5,caption:"5"},{value:10,caption:"10"},{value:15,caption:"15"},{value:20,caption:"20"}],e}return s.d(e,t),e.prototype.requestTableData=function(t){var e=Math.max((t.page-1)*t.itemsPerPage,0),a=Math.min(t.page*t.itemsPerPage,this.data.length),r=Math.ceil(this.data.length/t.itemsPerPage),n={page:t.page,itemsPerPage:t.itemsPerPage,totalsCount:this.data.length,isLastPage:t.page===r,lastPageNumber:r,firstOnPage:e+1,lastOnPage:a};f(t)&&(t={}),f(t.sortBy)&&(t.sortBy="created_at"),f(t.sortOrder)&&(t.sortOrder=d.descending);var i=this.applySorting(this.data,t.sortBy,t.sortOrder);return n.entries=i.slice(e,a),Object(v.a)(n)},e.prototype.applySorting=function(t,e,a){var r;return r=a===d.ascending?function(t,a){return t[e]-a[e]}:function(t,a){return a[e]-t[e]},t.sort(r)},e.prototype.addEntry=function(t){this.data.push(t)},e.prototype.clearEntrys=function(){this.data=[]},e.prototype.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.prototype.dataToRowMapping=function(t){var e=[{data:t.user},{data:t.adminUser},{data:t.comment},{data:t.getBackComment},{data:t.rent_until},{data:t.created_at},{data:t.status},{data:t.deviceId}];return f(t.user.firstname)||(t.user=this.capitalize(t.user.firstname)+" "+this.capitalize(t.user.lastname)),{cellList:e,data:t}},e=s.c([Object(r.Injectable)(),s.f("design:paramtypes",[])],e)}(m.TerraDataTableBaseService),_=function(){function t(t){this.http=t,this.url="",this.token="",this.headers=new p.HttpHeaders,this.articlesRentInformation=[],this.settings=new Map,this.categoryNames=new Map,this.history=[],this._actualArticleKey=0,this._actualArticleId=0,this.propertyNames=[],this._selectUser=[{value:0,caption:"Alle"}],this._selectCategory=[{value:0,caption:"Alle"}],i.production||(this.token="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImZiZTJkYjFhYzViZjdiNmVlNGQzY2VkODE0Yjc4NTdhZjAwZDIzMTRhZTE5YTI0MjEyYmQ4NTAyMTc1ZTE4NjFhNGVkYzc0YzgxYTNlM2IyIn0.eyJhdWQiOiIxIiwianRpIjoiZmJlMmRiMWFjNWJmN2I2ZWU0ZDNjZWQ4MTRiNzg1N2FmMDBkMjMxNGFlMTlhMjQyMTJiZDg1MDIxNzVlMTg2MWE0ZWRjNzRjODFhM2UzYjIiLCJpYXQiOjE1ODI4Nzc1MDgsIm5iZiI6MTU4Mjg3NzUwOCwiZXhwIjoxNTgyOTYzOTA4LCJzdWIiOiIzIiwic2NvcGVzIjpbIioiXX0.YUXVwxvwl5uwSdVknkIfm3SdiDMZUoE13CGRUVD92r2qFHprPrqkCTQJ2EndYIZ1LXfbP64tdWCvL9_i4446iSl3axj23W6ZJkGuQKRsu__kPo2uWL7DN2LrHTwpGtXsTpBi2V56D4wDvxB7g-ckgkrrEyses28JfIGMOJb7lllxCEsrDvU1g__vHOGbqyUZnWgqkJ6RExUTyKLxlJpz_K5gdt-e0-vviG_XEqcuuN6525AzduQLrxLWUn7DWX2QHhvDgR7znJsQnZ38Q2mpEMuqN4_5ISv1sd8LgGIiMgVjOUiwEwZYrFHtm2SmIvRudH4Tc0TGTCwvft8VjoqrXcq3i4aEPm4o2IydVVlnMh1EcGeGPL9d5W5tD8OvZcAZDGd0hCK0CI6XKKVYVn0znvVKs7ZoFKEuJqzaUi2I4CHFr9Emd6CKBUQyHW7R0T2rFoaxehD48ADxB5RFrPZYvLJk5BYZaj7t2H0Cz-Ut5FnB0YjSockp9ywCshZ2DHJ8F8Fa-o-FWumm3zwY3PL_2zXum0ZSSV6SJp1ew2OiE5tauJCp8lUbdGFDXJtZkHG0FLQ4SRGtu4KGqN7TX9ff9K8VKhxTLy9iRLr_vRgnJdbo9pCeeqM120vfmg2LAfld4zVwVSzBcwedr8QYS3Ag3Jb7tRePYXuD4_LNx2qIcYY",this.url="http://master.login.plentymarkets.com"+this.url,localStorage.setItem("accessToken",this.token))}return t.prototype.getRestCallData=function(t){return this.http.get(this.url+"/"+t)},t.prototype.postRestCallData=function(t,e){return this.http.post(this.url+"/"+t,e)},t.prototype.deleteRestCallData=function(t){return this.http.delete(this.url+"/"+t,{headers:this.headers})},t.prototype.putRestCallData=function(t,e){return this.http.put(this.url+"/"+t,e)},t.prototype.isJsonString=function(t){try{var e=JSON.parse(t);return"object"==typeof e&&e.length>0}catch(a){return!1}},t.prototype.getLogEntries=function(t){return this.http.get(this.url+"/plugin/equipmentRental/log",{params:t})},t=s.c([Object(r.Injectable)(),s.f("design:paramtypes",[p.HttpClient])],t)}(),D=function(){function t(){}return t.callUiAction=function(t){window===window.top?window.dispatchEvent(new CustomEvent("gwtUiAction",{detail:t})):window.parent.dispatchEvent(new CustomEvent("gwtUiAction",{detail:t}))},t}(),S=function(){return function(t,e){this.uiActionKey=t,this.params=e}}();!function(t){t.customerDetail="CUSTOMER_DETAIL",t.domainNew="DOMAIN_NEW",t.domainSearch="DOMAIN_SEARCH",t.itemDetail="ITEM_DETAIL",t.itemVariationDetail="ITEM_VARIATION_DETAIL",t.itemSearch="ITEM_SEARCH",t.openAndRunProcess="OPEN_AND_RUN_PROCESS",t.orderDetail="ORDER_DETAIL",t.orderNew="ORDER_NEW",t.orderSchedulerSearch="ORDER_SCHEDULER_SEARCH",t.orderSearch="ORDER_SEARCH",t.paymentSearch="PAYMENT_SEARCH",t.stockReceipt="STOCK_RECEIPT",t.systemSearch="SYSTEM_SEARCH",t.ticketDetailView="TICKET_DETAIL_VIEW",t.ticketNew="TICKET_NEW",t.ticketSearch="TICKET_SEARCH"}(y||(y={}));var w=function(){function t(){}return t.showItemVariation=function(t,e){D.callUiAction(new S(y.itemVariationDetail,{itemId:t,variationId:e,switchView:!0}))},t}();function I(t){return null==t}var C,j=function(){function t(t,e,a,r,n,i){this._statsDataService=t,this._historyService=e,this._alert=a,this.route=r,this.router=n,this.routerViewComponent=i,this.isLoading=!1,this.settings=new Map,this.findUserResult=[],this.autofillLoading=!1,this.searchName="",this.firstName="",this.lastName="",this.email="",this.date="",this.comment="",this.giveBackComment="",this.availableFilter=-1,this.categoryFilter=0,this.userFilter=0,this.statusFilter=0,this.statusOption="",this._actualArticleTimeDif=0,this._selectAvailable=[{value:-1,caption:"Alle"},{value:0,caption:"Ausgeliehen"},{value:1,caption:"Verf\xfcgbar"}],this._selectCategory=[{value:0,caption:"Alle"}],this._selectUser=[{value:0,caption:"Alle"}],this._selectStatusFilter=[{value:0,caption:"Alle"},{value:1,caption:"Defekt"},{value:2,caption:"Entwendet"},{value:3,caption:"Verloren"}],this._selectStatus=[{value:0,caption:"(Optional)"},{value:1,caption:"Defekt"},{value:2,caption:"Entwendet"},{value:3,caption:"Verloren"}],this.leftColumnWidth=0,this.centerColumnWidth=0,this.rightColumnWidth=0,this._name="",this.headerList=this.createHeaderList()}return t.prototype.ngOnDestroy=function(){this._routerSub.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;this.loadPage(1),this._routerSub=this.router.events.subscribe(function(e){if(e instanceof g.NavigationStart)if(-1!=e.url.indexOf("/overview/")){var a=e.url.split("/"),r=parseInt(a[a.length-1]);t.loadArticleRoute(r)}else t.loadPage(1)}),!I(this.route.snapshot.paramMap.get("deviceId"))&&this.route.snapshot.paramMap.get("deviceId").length>0&&this.loadArticleRoute(parseInt(this.route.snapshot.paramMap.get("deviceId"))),0===this._statsDataService.categoryNames.size&&(this.loadCategorys(),this.loadPropertyNames())},t.prototype.loadArticleRoute=function(t){this._statsDataService._actualArticleId=t,this.setActualArticleKeyById(t),this.loadPage(2),this.loadRentInformation(t,!0),this.isLoading=!0,this.searchName="",this.firstName="",this.lastName="",this.email="",this.comment="",this.giveBackComment="",this.statusOption="",this.updateBreadcrumbByDeviceId(t)},t.prototype.loadCategorys=function(){var t=this;this.isLoading=!0,this._statsDataService.getRestCallData("rest/categories").subscribe(function(e){if(!I(e.entries)){for(var a=0,r=e.entries;a<r.length;a++){var n=r[a];t._statsDataService.categoryNames.set(n.id,n.details[0].name)}t.loadSettings()}},function(e){t.isLoading=!1,t._alert.error("Fehler beim Laden der Kategorien")})},t.prototype.loadPropertyNames=function(){var t=this;this._statsDataService.getRestCallData("rest/properties").subscribe(function(e){if(Object.keys(e).length>0)for(var a=0,r=e.entries;a<r.length;a++){for(var n=r[a],i="NONAME",s=0,o=n.names;s<o.length;s++){var l=o[s];if("de"===l.lang){i=l.name;break}}t._statsDataService.propertyNames[n.position]=i}},function(e){t._alert.error("Fehler beim Laden der Eigenschaften")})},t.prototype.isJsonString=function(t){try{var e=JSON.parse(t);return"object"==typeof e&&e.length>0}catch(a){return!1}},t.prototype.loadSettings=function(){var t=this;this._statsDataService.getRestCallData("plugin/equipmentRental/rentalDevice/settings").subscribe(function(e){for(var a=0,r=e;a<r.length;a++){var n=r[a];I(n)||I(n.name)||t._statsDataService.settings.set(n.name,n.value)}if(t.isJsonString(t._statsDataService.settings.get("categorys"))){for(var i=0,s=JSON.parse(t._statsDataService.settings.get("categorys"));i<s.length;i++){var o=s[i];t._statsDataService._selectCategory.push({value:o,caption:t._statsDataService.categoryNames.get(o)})}t.createArticleData()}else t._alert.error("Es wurde keine Kategorie in den Einstellungen festgelegt"),t.isLoading=!1},function(e){t._alert.error("Fehler beim Laden der Einstellungen")})},t.prototype.createHeaderList=function(){return[{caption:"Verliehen an",sortBy:"user",width:10},{caption:"Kommentar",sortBy:"comment",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Kommentar bei R\xfcckgabe",sortBy:"getBackComment",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Verliehen am",sortBy:"created_at",width:10,textAlign:m.TerraTextAlignEnum.CENTER},{caption:"Verliehen bis",sortBy:"rent_until",width:10,textAlign:m.TerraTextAlignEnum.CENTER},{caption:"R\xfcckgabedatum",sortBy:"getBackDate",width:10,textAlign:m.TerraTextAlignEnum.CENTER},{caption:"Status",sortBy:"status",width:10,textAlign:m.TerraTextAlignEnum.CENTER}]},t.prototype.statusToText=function(t){for(var e=0,a=this._selectStatus;e<a.length;e++){var r=a[e];if(t>0&&r.value==t)return r.caption.toString()}return""},t.prototype.emailAutocomplete=function(t){I(this._statsDataService)||I(this._statsDataService.settings)||!this._statsDataService.settings.get("emailAutofill")||(-1===this.email.indexOf("@plentymarkets.com")||0!==this.firstName.length&&0!==this.lastName.length||(this.email=""),0!==this.firstName.length&&0!==this.lastName.length&&(this.email=this.firstName+"."+this.lastName+"@plentymarkets.com"))},t.prototype.autofill=function(){var t=this;this.autofillLoading=!1,this.findUserResult=[],I(this.autofillCall)||this.autofillCall.unsubscribe(),this.searchName.length<3||(this.autofillLoading=!0,this.autofillCall=this._statsDataService.getRestCallData("plugin/equipmentRental/rentalDevice/findUser/"+this.searchName).subscribe(function(e){for(var a=0,r=e;a<r.length;a++){var n=r[a];t.findUserResult.push(n)}t.autofillLoading=!1},function(e){t._alert.error("Fehler beim Laden der Benutzer"),t.autofillLoading=!1}))},t.prototype.fillForms=function(t){this.findUserResult=[],this.firstName=t.firstname,this.lastName=t.lastname,this.email=t.email},t.prototype.loadPage=function(t){this.isLoading=!1,this.leftColumnWidth=1===t?2:0,this.centerColumnWidth=1===t?10:0,this.rightColumnWidth=1===t?0:12,this._statsDataService._actualArticleIsRent=!1,1===t&&(this._statsDataService._actualArticleId=0,this._statsDataService._actualArticleKey=0)},t.prototype.onSearchBtnClicked=function(){this.updateData()},t.prototype.onResetBtnClicked=function(){this._name="",this.availableFilter=-1,this.categoryFilter=0,this.userFilter=0,this.statusFilter=0,this.updateData()},t.prototype.getDiferenceInDays=function(t){var e=(1e3*t-(new Date).getTime())/864e5;return Math.ceil(e)},t.prototype.onClickTerraCard=function(t){this.router.navigateByUrl("plugin/overview/"+t)},t.prototype.loadCreateItem=function(){this.router.navigateByUrl("plugin/create-item")},t.prototype.actualTime=function(){return(new Date).getTime()/1e3},t.prototype.setActualArticleData=function(t){var e;for(var a in this._statsDataService._actualArticleData={},this._actualArticleTimeDif=0,this._statsDataService.articlesRentInformation)if(this._statsDataService.articlesRentInformation[a].deviceId==t){e=a;break}I(e)||(this._statsDataService._actualArticleData=this._statsDataService.articlesRentInformation[e],this._actualArticleTimeDif=this._statsDataService._actualArticleData.rent_until>0?this.getDiferenceInDays(this._statsDataService._actualArticleData.rent_until):0)},t.prototype.loadRentInformation=function(t,e){var a,r=this;for(var n in void 0===e&&(e=!1),this.showHistory(t),this._statsDataService.articlesRentInformation)if(this._statsDataService.articlesRentInformation[n].deviceId===t){a=n;break}if(I(a))try{this.isLoading=!0,this._statsDataService.getRestCallData("plugin/equipmentRental/rentalDevice/"+t).subscribe(function(e){!I(e)&&Object.keys(e)&&Object.keys(e).length>0?(e.isAvailable=parseInt(e.isAvailable),r._statsDataService.articlesRentInformation.push({id:e.id,deviceId:e.deviceId,userId:e.userId,comment:e.comment,rent_until:e.rent_until,created_at:e.created_at,user:e.user,available:e.isAvailable,getBackDate:e.getBackDate}),r._statsDataService._actualArticleIsRent=0===e.isAvailable):r._statsDataService._actualArticleIsRent=!1,r.setActualArticleData(t),r.isLoading=!1},function(t){r._statsDataService._actualArticleIsRent=!1,r.isLoading=!1})}catch(i){this._statsDataService._actualArticleIsRent=!1,this.isLoading=!1}else this._statsDataService._actualArticleIsRent=0===this._statsDataService.articlesRentInformation[a].available;this.setActualArticleData(t)},t.prototype.updateBreadcrumbByDeviceId=function(t){var e=this,a="NONAME";for(var r in this._statsDataService.articlesResult)if(this._statsDataService.articlesResult[r].id===t){a=this._statsDataService.articlesResult[r].name;break}setTimeout(function(){e.routerViewComponent.breadcrumbsService.updateBreadcrumbNameByUrl("/overview/"+t,a)},100)},t.prototype.setActualArticleKeyById=function(t){for(var e in this._statsDataService.articlesResult)if(this._statsDataService.articlesResult[e].id===t){this._statsDataService._actualArticleKey=e;break}},t.prototype.onSubmit=function(){this.onSearchBtnClicked()},t.prototype.isValidEmail=function(t){return t.indexOf("@")>0&&t.split("@")[1].indexOf(".")>0},t.prototype.giveBack=function(t){var e=this,a={comment:this.giveBackComment,status:parseInt(this.statusOption)};this._statsDataService.putRestCallData("plugin/equipmentRental/rentalDevice/"+t,a).subscribe(function(r){for(var n in e._alert.success("Das Ger\xe4t wurde erfolgreich zur\xfcckgegeben"),e._statsDataService._actualArticleIsRent=!1,e._statsDataService.articlesRentInformation)if(e._statsDataService.articlesRentInformation[n].deviceId==t){delete e._statsDataService.articlesRentInformation[n];break}e.refreshHistory(t),e._statsDataService.articlesResult[e._statsDataService._actualArticleKey].available=1,e._statsDataService.articlesResult[e._statsDataService._actualArticleKey].status=a.status,e._statsDataService.articlesResult[e._statsDataService._actualArticleKey].user="",e.email="",e.date="",e.lastName="",e.firstName="",e.comment="",e.searchName=""},function(t){e._alert.error("Fehler beim Zur\xfcckgeben des Ger\xe4tes")})},t.prototype.rentItem=function(t){var e=this;if(this.firstName.length<3||this.lastName.length<3||!this.isValidEmail(this.email))this._alert.error("Es m\xfcssen alle Felder ausgef\xfcllt werden");else{var a={firstname:this.firstName,lastname:this.lastName,email:this.email,deviceId:this._statsDataService.articlesResult[t].id,userId:2,rent_until:null!=this.date?new Date(this.date).getTime()/1e3:0,comment:this.comment};a.rent_until>0&&a.rent_until<this.actualTime()?this._alert.error("Das R\xfcckgabedatum liegt in der Vergangenheit"):this._statsDataService.postRestCallData("plugin/equipmentRental/rentalDevice",a).subscribe(function(r){for(var n in e._alert.success("Das Ger\xe4t wurde erfolgreich verliehen"),e._statsDataService.articlesRentInformation)if(e._statsDataService.articlesRentInformation[n].deviceId==a.deviceId){delete e._statsDataService.articlesRentInformation[n];break}e._statsDataService.articlesResult[t].available=0,e._statsDataService.articlesResult[t].user=e.capitalize(e.firstName)+" "+e.capitalize(e.lastName),e.loadRentInformation(a.deviceId),e.refreshHistory(t),e._statsDataService._actualArticleIsRent=!0},function(t){e._alert.error("Fehler beim Ausleihen des Ger\xe4tes")})}},t.prototype.updateData=function(){var t=this;this._statsDataService.articles=this._statsDataService.articlesResult,this._name.length>0&&(this._statsDataService.articles=this._statsDataService.articlesResult.filter(function(e){return e.name.toLowerCase().indexOf(t._name.toLowerCase())>-1})),"-1"!=this.availableFilter&&(this._statsDataService.articles=this._statsDataService.articles.filter(function(e){return e.available==parseInt(t.availableFilter)})),"0"!=this.categoryFilter&&(this._statsDataService.articles=this._statsDataService.articles.filter(function(e){return e.category==parseInt(t.categoryFilter)})),"0"!=this.userFilter&&(this._statsDataService.articles=this._statsDataService.articles.filter(function(e){return e.user==t.userFilter})),"0"!=this.statusFilter&&(this._statsDataService.articles=this._statsDataService.articles.filter(function(e){return e.status==t.statusFilter}))},t.prototype.createArticleData=function(){var t=this,e=JSON.parse(this._statsDataService.settings.get("categorys"));this._statsDataService.articlesResult=[];for(var a=0,r=function(r){n.isLoading=!0,n._statsDataService.getRestCallData("plugin/equipmentRental/rentalDevice?categoryId="+r).subscribe(function(n){for(var i=0,s=n;i<s.length;i++){var o=s[i];if(t._statsDataService.articlesResult.push({id:o.id,itemId:o.itemId,name:null!==o.name?o.name:"NONAME",image:o.image,category:r,attributes:o.variationAttributeValues,properties:o.properties,available:o.isAvailable,user:o.user,rent_until:o.rent_until,getBackDate:o.getBackDate,status:parseInt(o.status)}),0==o.isAvailable){for(var l=!1,c=0,u=t._statsDataService._selectUser;c<u.length;c++){if(u[c].caption==o.user){l=!0;break}}l||t._statsDataService._selectUser.push({value:o.user,caption:o.user})}}a===e.length-1&&(t.isLoading=!1,t._statsDataService.articlesResult=t._statsDataService.articlesResult.sort(function(t,e){return t.name>e.name?1:e.name>t.name?-1:0}),t._statsDataService.articlesResult=t._statsDataService.articlesResult.sort(function(t,e){return t.status>e.status?1:e.status>t.status?-1:0}),t._statsDataService.articles=t._statsDataService.articlesResult),a++},function(e){t._alert.error("Fehler beim Laden der Artikel"),t.isLoading=!1})},n=this,i=0,s=e;i<s.length;i++){r(s[i])}this._statsDataService.articles=this._statsDataService.articlesResult},t.prototype.exportCSV=function(){if(!this.isLoading&&this._statsDataService.articles&&0!==this._statsDataService.articles.length){for(var t={year:"numeric",month:"2-digit",day:"2-digit"},e="EquipmentRental-"+(new Date).toLocaleDateString("de-DE",t).split(".").join("-")+".csv",a=[],r=0,n=this._statsDataService.articles;r<n.length;r++){var i=n[r],s="";if(i.properties.length>0)for(var o=0,l=i.properties;o<l.length;o++){var c=l[o];!I(c.relationValues[0])&&!I(c.relationValues[0].value)&&c.relationValues[0].value.length>0&&(s+=this._statsDataService.propertyNames[c.propertyRelation.position]+": ",s+=c.relationValues[0].value+"<br>")}var u="";0==i.available&&(u=0==i.rent_until||null==i.rent_until?"Unbestimmte Zeit":new Date(1e3*i.rent_until).toLocaleDateString("de-DE",t));var d={id:i.id,name:i.name,category:this._statsDataService.categoryNames.get(i.category),user:i.user,available:1===i.available?"Verf\xfcgbar":"Ausgeliehen",rent_until:u,properties:s};a.push(d)}var p=function(t,e){return null===e?"":e},g=Object.keys(a[0]),m=a.map(function(t){return g.map(function(e){return JSON.stringify(t[e],p).split("<br>").join("\n")}).join(",")});m.unshift(g.join(","));var h=m.join("\r\n"),v=new Blob([h],{type:"text/csv"}),f=window.URL.createObjectURL(v);if(navigator.msSaveOrOpenBlob)navigator.msSaveBlob(v,e);else{var y=document.createElement("a");y.href=f,y.download=e,document.body.appendChild(y),y.click(),document.body.removeChild(y)}window.URL.revokeObjectURL(f)}},t.prototype.refreshHistory=function(t){I(this._statsDataService.history[t])||(this._statsDataService.history[t]=void 0),this._historyService.clearEntrys(),this.showHistory(t)},t.prototype.showHistory=function(t){var e=this;this.isLoading=!0;var a={year:"numeric",month:"2-digit",day:"2-digit"};I(this._statsDataService.history[t])||(this._statsDataService.history[t]=void 0),this._historyService.clearEntrys(),this._statsDataService.getRestCallData("plugin/equipmentRental/rentalDevice/history/"+t).subscribe(function(r){e._statsDataService.history[t]=[];for(var n=0,i=r;n<i.length;n++){var s=i[n],o={user:s.user,adminUser:0===s.adminUser.id?"NONAME":e.capitalize(s.adminUser.firstname)+" "+e.capitalize(s.adminUser.lastname),comment:s.comment,getBackComment:s.getBackComment,isAvailable:s.isAvailable,rent_until:s.rent_until>0?new Date(1e3*s.rent_until).toLocaleDateString("de-DE",a):"Unbestimmte Zeit",created_at:new Date(1e3*s.created_at).toLocaleDateString("de-DE",a),status:e.statusToText(s.status),getBackDate:s.getBackDate>0?new Date(1e3*s.getBackDate).toLocaleDateString("de-DE",a):""};e._statsDataService.history[t].push(o),e._historyService.addEntry(o),e.isLoading=!0}e._historyService.getResults(),e.isLoading=!1},function(t){e._alert.error("Fehler beim Laden der Historie")})},t.prototype.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.prototype.getCardTooltip=function(t){return t.status>0?"Nicht verf\xfcgbar: "+this._selectStatus[t.status].caption:0==t.available?"Dieses Ger\xe4t ist verliehen an "+t.user:""},t.prototype.getCardClasses=function(t){return 0==t.available?"rent":"available"},t.prototype.showVariation=function(t,e){console.log("show variation"),w.showItemVariation(t,e)},t=s.c([Object(r.Component)({selector:"overview-view",template:a("T8DE"),providers:[b],styles:[a("e5xU")]}),s.f("design:paramtypes",[_,b,m.AlertService,g.ActivatedRoute,g.Router,h])],t)}();function k(t){return null==t}!function(t){t.descending="desc",t.ascending="asc"}(C||(C={}));var R=function(t){function e(){var e=t.call(this)||this;return e.data=[],e.defaultPagingSize=25,e.pagingSizes=[{value:25,caption:"25"},{value:50,caption:"50"},{value:75,caption:"75"},{value:100,caption:"100"}],e}return s.d(e,t),e.prototype.requestTableData=function(t){var e=Math.max((t.page-1)*t.itemsPerPage,0),a=Math.min(t.page*t.itemsPerPage,this.data.length),r=Math.ceil(this.data.length/t.itemsPerPage),n={page:t.page,itemsPerPage:t.itemsPerPage,totalsCount:this.data.length,isLastPage:t.page===r,lastPageNumber:r,firstOnPage:e+1,lastOnPage:a};k(t)&&(t={}),k(t.sortBy)&&(t.sortBy="created_at"),k(t.sortOrder)&&(t.sortOrder=C.descending);var i=this.applySorting(this.data,t.sortBy,t.sortOrder);return n.entries=i.slice(e,a),Object(v.a)(n)},e.prototype.applySorting=function(t,e,a){var r;return r=a===C.ascending?function(t,a){return t[e]-a[e]}:function(t,a){return a[e]-t[e]},t.sort(r)},e.prototype.addEntry=function(t){this.data.push(t)},e.prototype.clearEntrys=function(){this.data=[]},e.prototype.removeEntryByDeviceId=function(t){for(var e=[],a=0,r=this.data;a<r.length;a++){var n=r[a];n.deviceId!==t&&e.push(n)}this.data=e},e.prototype.dataToRowMapping=function(t){return{cellList:[{data:t.name},{data:t.user},{data:t.comment},{data:t.rent_until},{data:t.created_at},{data:t.deviceId}],data:t}},e=s.c([Object(r.Injectable)(),s.f("design:paramtypes",[])],e)}(m.TerraDataTableBaseService),T=function(){function t(t,e,a){this._statsDataService=t,this._manageService=e,this._alert=a,this.filterName="",this.filterEmail="",this.data=[],this.headerList=this.createHeaderList()}return t.prototype.ngOnInit=function(){this.loadHistoryData()},t.prototype.createHeaderList=function(){return[{caption:"Ger\xe4t",sortBy:"name",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Verliehen an",sortBy:"user",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Email",sortBy:"user.email",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Kommentar",sortBy:"comment",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Verliehen am",sortBy:"created_at",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Tage verbleibend",sortBy:"rent_until",width:10,textAlign:m.TerraTextAlignEnum.LEFT}]},t.prototype.loadHistoryData=function(){var t=this;this.isLoading=!0;var e={year:"numeric",month:"2-digit",day:"2-digit"};this._manageService.clearEntrys(),this._statsDataService.getRestCallData("plugin/equipmentRental/rentalDevice/getRentedDevices").subscribe(function(a){t.data=[];for(var r=0,n=a;r<n.length;r++){var i=n[r],s=1e3*i.rent_until-(new Date).getTime(),o=Math.ceil(s/864e5),l={name:i.name,user:i.user,adminUser:i.adminUser,comment:i.comment,getBackComment:i.getBackComment,isAvailable:i.isAvailable,rent_until:i.rent_until>0?o:"Unbestimmte Zeit",created_at:new Date(1e3*i.created_at).toLocaleDateString("de-DE",e),status:i.status,deviceId:i.deviceId};t._manageService.addEntry(l),t.data.push(l),t.isLoading=!0}t._manageService.getResults(),t.isLoading=!1},function(e){t._alert.error("error while loading history data")})},t.prototype.executeGroupFunction=function(t){this.manageOverlay.showOverlay()},t.prototype.executePopupFunction=function(t){var e=this;if(this.sendMailOption||this.giveBackOption){this.manageOverlay.hideOverlay();for(var a=function(t){var a={userId:t.data.user.id,deviceId:t.data.deviceId};if(r.sendMailOption&&r._statsDataService.putRestCallData("plugin/equipmentRental/rentalDevice/remindEmail",a).subscribe(function(t){e._alert.success("Die Aktion wurde erfolgreich ausgef\xfchrt")},function(a){e._alert.error("Fehler beim Senden der E-Mail an "+t.data.user.email)}),r.giveBackOption){r._statsDataService.putRestCallData("plugin/equipmentRental/rentalDevice/"+t.data.deviceId,{comment:"",status:""}).subscribe(function(a){e._alert.success("Das Ger\xe4t wurde erfolgreich zur\xfcckgegeben"),e._manageService.removeEntryByDeviceId(t.data.deviceId),e._manageService.getResults()},function(t){e._alert.error("Fehler beim Zur\xfcckgeben des Ger\xe4tes")})}},r=this,n=0,i=t;n<i.length;n++){a(i[n])}this.giveBackOption=!1,this.sendMailOption=!1}else this._alert.error("Es wurde keine Aktion ausgew\xe4hlt")},t.prototype.expiredDateClass=function(t){if(this.isNumber(t)){if(t<0)return"red";if(0==t)return"yellow"}return""},t.prototype.isNumber=function(t){return"number"==typeof t},t.prototype.formatSingularPlural=function(t,e,a){return 1===t||-1===t?e:a},t.prototype.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.prototype.onSearchBtnClicked=function(){var t=this,e=this.data;this.filterName.length>1&&(e=this.data.filter(function(e){return e.user.firstname.concat(" "+e.user.lastname.toLowerCase()).toLowerCase().indexOf(t.filterName.toLowerCase())>-1})),this.filterEmail.length>1&&(e=this.data.filter(function(e){return e.user.email.toLowerCase().indexOf(t.filterEmail.toLowerCase())>-1})),this._manageService.clearEntrys();for(var a=0,r=e;a<r.length;a++){var n=r[a];this._manageService.addEntry(n)}this._manageService.getResults()},t.prototype.onResetBtnClicked=function(){this.filterName="",this.filterEmail="",this.onSearchBtnClicked()},s.c([Object(r.ViewChild)("manageOverlay"),s.f("design:type",m.TerraOverlayComponent)],t.prototype,"manageOverlay",void 0),s.c([Object(r.ViewChild)("sendMailOption"),s.f("design:type",Object)],t.prototype,"sendMailOption",void 0),s.c([Object(r.ViewChild)("giveBackOption"),s.f("design:type",Object)],t.prototype,"giveBackOption",void 0),t=s.c([Object(r.Component)({selector:"manage-view",template:a("VhEL"),providers:[R]}),s.f("design:paramtypes",[_,R,m.AlertService])],t)}();function A(t){return null==t}var E=function(){function t(t,e){this._statsDataService=t,this._alert=e,this.isLoading=!1,this.emailTemplate="E-Mail Template",this.categoryValues=[],this.activeCategorys=[],this.settings=new Map,this.oldSettings=new Map,this.saveSettingSuccess=0,this.saveSettingError=0}return t.prototype.ngOnInit=function(){this.getSettings()},t.prototype.getSettings=function(){var t=this;this.isLoading=!0,this._statsDataService.getRestCallData("plugin/equipmentRental/rentalDevice/settings").subscribe(function(e){for(var a=0,r=e;a<r.length;a++){var n=r[a];A(n)||A(n.name)||t.settings.set(n.name,n.value)}t.emailTemplate=t.settings.get("emailTemplate"),t.emailTemplateTopic=t.settings.get("emailTemplateTopic"),t.emailAutofill=t.settings.get("emailAutofill"),t.settings.forEach(function(e,a){t.oldSettings.set(a,e)}),t.getCategorys()},function(e){t._alert.error("error while loading settings data"),t.isLoading=!1})},t.prototype.isJsonString=function(t){try{var e=JSON.parse(t);return"object"==typeof e&&e.length>0}catch(a){return!1}},t.prototype.getCategorys=function(){var t=this;this._statsDataService.getRestCallData("rest/categories").subscribe(function(e){if(!A(e.entries)){for(var a=t.isJsonString(t.settings.get("categorys"))?JSON.parse(t.settings.get("categorys")):[],r=0,n=e.entries;r<n.length;r++){var i=n[r],s={value:i.id,caption:i.details[0].name,selected:a.includes(i.id)};t.categoryValues.push(s),a.includes(i.id)&&t.activeCategorys.push({name:i.details[0].name})}t.emailTemplate=t.settings.get("emailTemplate"),t.emailTemplateTopic=t.settings.get("emailTemplateTopic"),t.settings.forEach(function(e,a){t.oldSettings.set(a,e)}),t.isLoading=!1}},function(e){console.log("error while loading categorys"),t.isLoading=!1})},t.prototype.getCategoryNameByid=function(t){for(var e=0,a=this.categoryValues;e<a.length;e++){var r=a[e];if(r.value==t)return r.caption}return""},t.prototype.saveSettings=function(){var t=this,e=[];this.activeCategorys=[];for(var a=0,r=this.categoryValues;a<r.length;a++){var n=r[a];n.selected&&(e.push(n.value),this.activeCategorys.push({name:this.getCategoryNameByid(n.value)}))}this.settings.set("categorys",JSON.stringify(e)),this.settings.set("emailTemplate",this.emailTemplate),this.settings.set("emailTemplateTopic",this.emailTemplateTopic),this.settings.set("emailAutofill",this.emailAutofill),this.saveSettingSuccess=0,this.saveSettingError=0,this.settings.forEach(function(e,a){t.oldSettings.get(a)!=e&&(t.saveSettingsRequest(a,e),t.oldSettings.set(a,e))})},t.prototype.saveSettingsRequest=function(t,e){var a=this,r={name:t,value:e};this._statsDataService.putRestCallData("plugin/equipmentRental/rentalDevice/setting",r).subscribe(function(t){0==a.saveSettingSuccess&&a._alert.success("Einstellungen wurden gespeichert"),a.saveSettingSuccess++},function(t){a.saveSettingError++,1==a.saveSettingError&&a._alert.error("Fehler beim Speichern der Einstellungen")})},s.c([Object(r.ViewChild)("emailAutofill"),s.f("design:type",m.TerraCheckboxComponent)],t.prototype,"emailAutofill",void 0),t=s.c([Object(r.Component)({selector:"settings-view",template:a("+S+1")}),s.f("design:paramtypes",[_,m.AlertService])],t)}();var L,O=function(){function t(t,e,a){var r=this;this._statsDataService=t,this._alert=e,this.router=a,this.name="",this.image="",this.category="",this.propertyToggle=!0,this.isLoading=!1,this._selectCategory=[],this.hasError=function(t,e){return r.createItemForm.controls[t].hasError(e)}}return t.prototype.ngOnInit=function(){this.createItemForm=new c.FormGroup({name:new c.FormControl("",[c.Validators.required]),category:new c.FormControl("",[c.Validators.required])}),this.loadPropertyNames(),this.loadCategorys()},t.prototype.getPropertyIdByName=function(t){for(var e=0,a=Object.entries(this._statsDataService.propertyNames);e<a.length;e++){var r=a[e],n=r[0];if(r[1]==t)return parseInt(n)}return 0},t.prototype.createItem=function(){var t=this;if("INVALID"==this.createItemForm.status)return this.createItemForm.get("name").markAsTouched(),void this.createItemForm.get("category").markAsTouched();this.name=this.createItemForm.get("name").value,this.category=this.createItemForm.get("category").value;for(var e=[],a=0,r=this.propertyInputs.toArray();a<r.length;a++){var n=r[a];if(void 0!==(n=n.nativeElement).value&&0!==n.value.length){var i={id:this.getPropertyIdByName(n.name),name:n.value};e.push(i)}}var s={name:this.name,image:this.image,categoryId:this.category,properties:e};this.name.length<=0?this._alert.error("Name muss ausgef\xfcllt werden"):"0"!=this.category&&0!==this.category.length?this._statsDataService.postRestCallData("plugin/equipmentRental/createItem",s).subscribe(function(e){t._statsDataService.articlesResult.push({id:e.id,name:null!==e.name?e.name:"NONAME",image:e.image,category:parseInt(t.category),attributes:e.variationAttributeValues,properties:e.properties,available:e.isAvailable,user:e.user,rent_until:e.rent_until}),t._alert.success("Das Ger\xe4t wurde erfolgreich angelegt"),t.router.navigateByUrl("plugin/overview/"+e.id)},function(e){t._alert.error("Fehler beim Anlegen des Ger\xe4tes")}):this._alert.error("Es muss eine Kategorie ausgew\xe4hlt werden")},t.prototype.parseProperties=function(){this.isLoading=!1},t.prototype.loadPropertyNames=function(){var t=this;0===this._statsDataService.propertyNames.length?this._statsDataService.getRestCallData("rest/properties").subscribe(function(e){if(t.isLoading=!0,Object.keys(e).length>0){for(var a=0,r=e.entries;a<r.length;a++){for(var n=r[a],i="NONAME",s=0,o=n.names;s<o.length;s++){var l=o[s];if("de"===l.lang){i=l.name;break}}t._statsDataService.propertyNames[n.id]=i}t.parseProperties()}},function(e){t._alert.error("Fehler beim Laden der Eigenschaften")}):this.parseProperties()},t.prototype.loadCategorys=function(){var t=this;this.isLoading=!0,0===Object.keys(this._statsDataService.categoryNames).length&&this._statsDataService.getRestCallData("rest/categories").subscribe(function(e){if(null!=e.entries){for(var a=0,r=e.entries;a<r.length;a++){var n=r[a];t._statsDataService.categoryNames.set(n.id,n.details[0].name),t._selectCategory.push({value:n.id,caption:t._statsDataService.categoryNames.get(n.id)})}t.isLoading=!1}},function(e){t.isLoading=!1,t._alert.error("Fehler beim Laden der Kategorien")})},s.c([Object(r.ViewChildren)("propertyInput"),s.f("design:type",Object)],t.prototype,"propertyInputs",void 0),t=s.c([Object(r.Component)({selector:"ptb-create-item",template:a("jx0p"),styles:[a("aIeQ")]}),s.f("design:paramtypes",[_,m.AlertService,g.Router])],t)}();function x(t){return null==t}!function(t){t.descending="desc",t.ascending="asc"}(L||(L={}));var N=function(t){function e(e){var a=t.call(this)||this;return a.statsDataService=e,a.data=[],a.defaultPagingSize=5,a.pagingSizes=[{value:25,caption:"25"},{value:50,caption:"50"},{value:75,caption:"75"},{value:100,caption:"100"}],a}return s.d(e,t),e.prototype.requestTableData=function(t){return console.log(this.filterDevice),!x(this.filterDevice)&&this.filterDevice>0&&(t.device=this.filterDevice),!x(this.filterUser)&&this.filterUser>0&&(t.user=this.filterUser),console.table(t),this.statsDataService.getLogEntries(t)},e.prototype.applySorting=function(t,e,a){var r;return r=a===L.ascending?function(t,a){return t[e]-a[e]}:function(t,a){return a[e]-t[e]},t.sort(r)},e.prototype.addEntry=function(t){this.data.push(t)},e.prototype.clearEntrys=function(){this.data=[]},e.prototype.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.prototype.dataToRowMapping=function(t){return t.created_at=new Date(1e3*parseInt(t.created_at)).toLocaleDateString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit"}),{cellList:[{data:t.userId},{data:t.rentalItem},{data:t.message},{data:t.created_at}],data:t}},e=s.c([Object(r.Injectable)(),s.f("design:paramtypes",[_])],e)}(m.TerraDataTableBaseService),M=function(){function t(t){this.logService=t,this.headerList=[{caption:"Name",sortBy:"userId",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Ger\xe4t",sortBy:"rentalItem",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Aktion",sortBy:"message",width:10,textAlign:m.TerraTextAlignEnum.LEFT},{caption:"Datum",sortBy:"created_at",width:10,textAlign:m.TerraTextAlignEnum.LEFT}]}return t.prototype.ngOnInit=function(){this.loadData()},t.prototype.loadData=function(){this.logService.requestTableData({page:1,itemsPerPage:10})},t.prototype.onSearchBtnClicked=function(){this.logService.clearEntrys(),this.logService.getResults()},t.prototype.onResetBtnClicked=function(){this.filterDevice=null,this.filterUser=null},t.prototype.onDeviceFilterChange=function(){this.logService.filterDevice=this.filterDevice},t.prototype.onUserFilterChange=function(){this.logService.filterUser=this.filterUser},t.prototype.showVariation=function(t,e){console.log("show variation"),w.showItemVariation(t,e)},t=s.c([Object(r.Component)({selector:"ptb-log",template:a("Mz4V"),providers:[N]}),s.f("design:paramtypes",[N])],t)}(),B=[{path:"",redirectTo:"plugin",pathMatch:"full"},{path:"plugin",component:h,children:[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"settings",component:E,data:{label:"Einstellungen"}},{path:"overview",component:j,data:{label:"Ger\xe4te\xfcbersicht"}},{path:"overview/:deviceId",component:j,data:{label:"Verleihen"}},{path:"manage",component:T,data:{label:"Verleih\xfcbersicht"}},{path:"create-item",component:O,data:{label:"Artikel anlegen"}},{path:"log",component:M,data:{label:"Log"}}]}],F=[],V=g.RouterModule.forRoot(B,{useHash:!0}),z=a("wFw1"),P=function(t){function e(e,a,r){var n=t.call(this,new p.HttpClient(e),a,r)||this;return n.httpBackend=e,n}return s.d(e,t),e=s.c([Object(r.Injectable)(),s.g(1,Object(r.Inject)(l.L10N_CONFIG)),s.f("design:paramtypes",[p.HttpBackend,Object,l.Caching])],e)}(l.L10nTranslationProvider),U=function(){function t(){}return t=s.c([Object(r.Injectable)()],t)}(),K=function(){function t(){}return t=s.c([Object(r.Component)({selector:"plugin-equipment-rental",template:a("xBDF"),styles:[a("ZnS7")]})],t)}(),H=a("uGex"),J=a("b716"),G=a("jQLj"),Z=a("SMsm"),Y=a("Wf4p"),W=function(){function t(t){this.l10nLoader=t,this.l10nLoader.load()}return t=s.c([Object(r.NgModule)({imports:[o.a,z.b,c.FormsModule,p.HttpClientModule,l.TranslationModule.forRoot(u,{translationProvider:P}),g.RouterModule.forRoot([]),m.TerraComponentsModule,V,H.a,J.b,c.ReactiveFormsModule,G.a,Z.a,Y.g],declarations:[K,h,j,T,E,O,M],providers:[{provide:r.APP_INITIALIZER,useFactory:q,deps:[l.L10nLoader],multi:!0},m.httpInterceptorProviders,F,m.TerraNodeTreeConfig,U,_,m.TooltipDirective],bootstrap:[K]}),s.f("design:paramtypes",[l.L10nLoader])],t)}();function q(t){return function(){return t.load()}}i.production&&Object(r.enableProdMode)(),Object(n.a)().bootstrapModule(W).catch(function(t){return console.error(t)})}},[[0,0,5]]]);